"use strict";var lunrJSON="https://ralpioxxcs.github.io/index.json";var lunrIndex=undefined;var rawIndex=[];var sbox=document.getElementById("searchbox");var sresults=document.getElementById("search-results");var searchAnalytics=undefined;function getJSON(url){return new Promise(function(resolve,reject){var req=new XMLHttpRequest();req.responseType='json';req.open('GET',url,true);req.addEventListener("load",function(){var status=req.status;if(status===200)
resolve(req.response);else
reject(status);});console.log("Loading search index");req.send();});}
function loadIndex(url){return new Promise(function(resolve,reject){getJSON(url).then(function(json){rawIndex=json;lunrIndex=lunr(function(){this.ref('id');this.field('url');this.field('name');this.field('description');this.field('body');for(var i=0;i<rawIndex.length;i++){rawIndex[i].id=i;this.add(rawIndex[i]);}});resolve(lunrIndex);},function(status){console.error("Unable to load search index. Status: "+status);reject(status);});});}
function populateSearchbox(){var content=sbox.value;if(content.length>0&&content[content.length-1]!==" ")
content+="*";sresults.innerHTML="";if(lunrIndex!==undefined){var results=lunrIndex.search(content);results.forEach(function(data){var result=document.createElement("div");result.setAttribute("class","search-result cell button");result.innerHTML=rawIndex[data.ref].name;var link=document.createElement("a");link.setAttribute("href",rawIndex[data.ref].url);if(typeof _paq!=="undefined"){link.addEventListener("click",function(){searchAnalytics={keyword:sbox.value,numResults:results.length};});}
link.appendChild(result);sresults.appendChild(link);});sresults.setAttribute("class",results.length===0?"hide":"");}}
sbox.addEventListener("keyup",populateSearchbox);window.addEventListener("beforeunload",function(){if(typeof _paq!=="undefined"&&searchAnalytics!==undefined){_paq.push(['trackSiteSearch',searchAnalytics.keyword,false,searchAnalytics.numResults]);}});var lunrIndex=undefined;loadIndex(lunrJSON).then(function(index){lunrIndex=index;},function(status){});